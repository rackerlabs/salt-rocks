{%- set seeds = [] %}
{%- for seed, values in salt['mine.get']('G@logging_role:elasticsearch', 'network.interfaces', expr_form='compound').items() %}
{%-   do seeds.append(values['eth0']['inet'][0]['address'])  %}
{%- endfor %}


output {
   elasticsearch {
     host => "{{ seeds|random() }}"
   }
}

